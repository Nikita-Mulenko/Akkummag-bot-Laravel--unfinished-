<?php

namespace App\Telegram;

use DefStudio\Telegraph\Handlers\WebhookHandler;
use DefStudio\Telegraph\Keyboard\Keyboard;
use DefStudio\Telegraph\Keyboard\Button;
use DefStudio\Telegraph\Facades\Telegraph;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Facades\URL;
use Illuminate\Support\Stringable;


class Webhook extends WebhookHandler
{
    public function start():void{
        $this->chat->message("Ğ’Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ±Ğ¾Ñ‚ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ° ĞĞšĞšĞ£Ğœ-ĞœĞĞ“.ğŸ‘‹\nĞ‘ÑƒĞ´ĞµĞ¼ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ°Ğ²Ñ‚Ğ¾?ğŸš—\n\nâ—Ğ‘Ğ¾Ñ‚ Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ½Ğ° Ğ²Ğ°ÑˆĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑâŒ. ĞŸĞ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ¼ĞµĞ½Ñ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸âœ…")->send();
        $this->mainPage();

    }
    //specific functions============================================================================
    public function mainPage():void{
        Telegraph::message("Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ²Ñ‹ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ Ğ±Ğ¾Ñ‚Ğ°.ğŸš©\nĞŸĞ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ¼ĞµĞ½Ñ Ğ½Ğ¸Ğ¶ĞµğŸ‘‡")
            ->keyboard(Keyboard::make()->buttons([
                Button::make('ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ğŸ“–')->action('catalog'),
                Button::make('ĞœÑ‹ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°ğŸ“')->action('map'),
                Button::make('Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â“')->action('questions'),
                Button::make('ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒğŸ†˜')->action('help'),
        ]))->send();
    }
    public function qPage():void{
        Telegraph::message("ĞĞ°Ğ´ĞµĞµĞ¼ÑÑ, Ğ²Ñ‹ Ğ½Ğ°Ğ¹Ğ´ĞµÑ‚Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° Ğ²Ğ°Ñˆ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑğŸ˜Š")
            ->keyboard(Keyboard::make()->buttons([
                Button::make('Ğ§ĞµĞ¼ EFB-Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ñ‹ Ğ»ÑƒÑ‡ÑˆĞµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ñ…â“')->action('q1'),
                Button::make('ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞµ Ñ‡ĞµÑ€ĞµĞ· 100% Ğ¿Ñ€ĞµĞ´Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒâ“')->action('q2'),
                Button::make('Ğ§ĞµÑ€ĞµĞ· ĞºĞ°ĞºĞ¸Ğµ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¾Ğ²Ñ‹Ğµ ÑĞ»ÑƒĞ¶Ğ±Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚Ğµâ“')->action('q3'),
                Button::make('ĞšĞ°ĞºĞ¾Ğ¹ Ñƒ Ğ²Ğ°Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹â“')->action('q4'),
                Button::make('Ğ Ğ¼Ğ¾Ğ³Ñƒ Ğ»Ğ¸ Ñ Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ· Ğ¸ Ğ¿Ñ€Ğ¸ĞµÑ…Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞµĞ³Ğ¾ ÑĞ°Ğ¼â“')->action('q5'),
                Button::make('Ğ•ÑĞ»Ğ¸ Ñ Ğ½Ğµ Ğ½Ğ°ÑˆĞµĞ» Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ Ğ¼Ğ½Ğµ Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€, Ñ‡Ñ‚Ğ¾ Ğ¼Ğ½Ğµ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒâ“')->action('q6'),
                Button::make('Ğ•ÑĞ»Ğ¸ Ñ Ğ½Ğµ Ğ½Ğ°ÑˆĞµĞ» Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° ÑĞ²Ğ¾Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñâ“')->action('help'),
                Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
            ]))->send();
    }
     //==============================================================================================
    protected function handleChatMessage(Stringable $text): void{
        Telegraph::message("Ğ˜Ğ·Ğ²Ğ¸Ğ½Ğ¸Ñ‚Ğµ, Ñ Ğ½Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ Ğ²Ğ°ÑğŸ˜¥. Ğ’ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ¸ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚ĞµÑÑŒ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¼ĞµĞ½Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ğŸ‘Š")
        ->keyboard(Keyboard::make()->buttons([
            Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
    ]))->send();

    }
    public function catalog():void{
        $this->chat->message("ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³")->send();

    }
    public function map():void{
        Telegraph::location(40.776676, -73.971321)->send();
        Telegraph::message("Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğ°ÑˆĞµĞ³Ğ¾ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ° Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ.\nĞ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµĞ¼ ĞŸĞ-Ğ’Ğ¡ | 00:00-24:00. Ğ Ğ°Ğ´Ñ‹ Ğ²Ğ°Ğ¼ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ!ğŸ˜")
        ->keyboard(Keyboard::make()->buttons([
            Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
    ]))->send();

    }
    public function questions():void{
        $this->chat->message("ĞĞ¸Ğ¶Ğµ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´ĞµĞ½Ñ‹ Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ĞµĞµ Ñ‡Ğ°ÑÑ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ½Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¹ğŸ‘‡ğŸ‘‡ğŸ‘‡")->send();
        $this->qPage();
    }
            public function q1():void{
                Telegraph::message("EFB-Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ñ‹ Ğ±Ñ‹ÑÑ‚Ñ€ĞµĞµ Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… ĞºĞ¸ÑĞ»Ğ¾Ñ‚Ğ½Ñ‹Ñ… Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¹ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ÑÑ‚ Ğ·Ğ°Ñ€ÑĞ´ Ğ² Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ ÑĞºÑĞ¿Ğ»ÑƒĞ°Ñ‚Ğ°Ñ†Ğ¸Ğ¸. Ğ¢Ğ°ĞºĞ¶Ğµ Ğ¾Ğ½Ğ¸ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ñ‹ Ğ¿ĞµÑ€ĞµĞ½ĞµÑÑ‚Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµĞµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ñ… Ñ€Ğ°Ğ·Ñ€ÑĞ´Ğ¾Ğº, Ñ‡ĞµĞ¼ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğµ ĞºĞ¸ÑĞ»Ğ¾Ñ‚Ğ½Ñ‹Ğµ Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ñ‹. ĞŸĞ»ÑÑ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ÑÑ‚ Ğ² 2 Ñ€Ğ°Ğ·Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ² Â«Ñ€Ğ°Ğ·Ñ€Ğ°Ğ´ĞºĞ¸-Ğ·Ğ°Ñ€ÑĞ´ĞºĞ¸Â» Ğ±ĞµĞ· ÑƒÑ‚Ñ€Ğ°Ñ‚Ñ‹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ğŸ˜‰")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }
            public function q2():void{
                Telegraph::message("ĞœÑ‹ Ñ…Ğ¾Ñ‚Ğ¸Ğ¼ Ğ±Ñ‹Ñ‚ÑŒ 100% ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹ Ğ² Ğ½Ğ°Ğ¼ĞµÑ€ĞµĞ½Ğ¸ÑÑ… ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ·Ğ°ĞºĞ°Ğ·. ĞŸÑ€Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğµ, Ğ½Ğ° ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ½ÑƒÑ Ğ¿Ğ¾Ñ‡Ñ‚Ñƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¼Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞºĞ²Ğ¸Ñ‚Ğ°Ğ½Ñ†Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚ ĞµĞ³Ğ¾ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ Ğ¸ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ĞµĞ¼Ñƒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ Ğ·Ğ°ĞºĞ°Ğ·Ğ°ğŸ˜")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }
            public function q3():void{
                Telegraph::message("ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ‡ĞµÑ€ĞµĞ· Ñ‚Ğ°ĞºĞ¸Ğµ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¾Ğ²Ñ‹Ğµ ÑĞ»ÑƒĞ¶Ğ±Ñ‹ğŸšš:\n- ĞĞĞ’ĞĞ¯ ĞŸĞĞ§Ğ¢ĞğŸ”´\n- Ğ”ĞµĞ»Ğ¸Ğ²ĞµÑ€Ğ¸ğŸŸ¡\n- Meest ExpressğŸ”µ")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }
            public function q4():void{
                Telegraph::message("ĞœÑ‹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹ ĞŸĞ-Ğ’Ğ¡ | 10:00-20:00.\nĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞŸĞ-Ğ’Ğ¡ | 00:00-24:00. Ğ Ğ°Ğ´Ñ‹ Ğ²Ğ°Ğ¼ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ!ğŸ˜")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }
            public function q5():void{
                Telegraph::message("Ğ”Ğ°âœ…. ĞŸÑ€Ğ¸ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¸ Ğ·Ğ°ĞºĞ°Ğ·Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿ÑƒĞ½ĞºÑ‚ Ğ¡ĞĞœĞĞ’Ğ«Ğ’ĞĞ—. ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ°, Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ¸Ñ‚Ğµ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğº Ğ½Ğ°Ğ¼ Ğ² Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½ Ğ¸ Ğ¼Ñ‹ Ğ²Ğ°Ğ¼ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ´Ğ¸Ğ¼ Ñ‚Ğ¾Ğ²Ğ°Ñ€ğŸ˜‰")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }
            public function q6():void{
                Telegraph::message("ĞĞµ Ğ±ĞµĞ´Ğ°â—Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ:\n- ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ÑŒÑÑ Ğº Ğ½Ğ°Ğ¼ Ğ² Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½ğŸª\n- ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ½Ğ°Ğ¼ Ğ½Ğ° emailğŸ“§: akkummag@gmail.com\n- ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ½Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ¼ Ğ² Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒğŸ“: +38(Ğ¥Ğ¥Ğ¥)-Ğ¥Ğ¥Ğ¥-Ğ¥Ğ¥-Ğ¥Ğ¥\n\n ĞœÑ‹ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ¾Ğ¹Ğ½ÑƒÑ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²ÑƒğŸ”¥")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹â”')->action('qPage'),
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();
            }


    public function help():void{
        Telegraph::message("Ğ’Ğ¾Ğ·Ğ½Ğ¸ĞºĞ»Ğ¸ Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¾ÑÑ‚Ğ¸â“\n- ĞŸĞ¸ÑˆĞ¸Ñ‚Ğµ Ğ½Ğ°Ğ¼ Ğ½Ğ° emailğŸ“§: akkummag@gmail.com\n- Ğ—Ğ²Ğ¾Ğ½Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ¼ Ğ½Ğ° Ğ½Ğ¾Ğ¼ĞµÑ€ğŸ“: +38(Ğ¥Ğ¥Ğ¥)-Ğ¥Ğ¥Ğ¥-Ğ¥Ğ¥-Ğ¥Ğ¥\n\nĞœĞ« Ğ’ĞĞœ ĞŸĞĞœĞĞ–Ğ•Ğœâ—ï¸")
                    ->keyboard(Keyboard::make()->buttons([
                        Button::make('ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑâ†©')->action('mainPage'),
                    ]))->send();

    }


}